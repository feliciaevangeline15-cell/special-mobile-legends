<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grand Love Arena</title>
    <link rel="stylesheet" href="battle-arena.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body>
    <!-- BATTLE SCREEN -->
    <div id="battle-screen" class="screen active">
        <div class="battle-container">
            <!-- HEADER -->
            <header class="battle-header">
                <h1>The Grand Love Arena</h1>
                <p class="battle-subtitle" id="battle-subtitle">Face: The Misunderstanding Monster</p>
                <div class="round-counter">Round <span id="current-round">1</span> / 3</div>
            </header>

            <!-- MAIN BATTLE AREA -->
            <div class="battle-area">
                <!-- RELATIONSHIP HEALTH BAR (CENTER) -->
                <div class="relationship-section">
                    <div class="health-bar-title">üíï OUR RELATIONSHIP HEALTH üíï</div>
                    <div class="health-bar-container">
                        <div class="health-bar">
                            <div class="health-fill" id="relationship-health" style="width: 100%;"></div>
                        </div>
                        <div class="health-text">
                            <span id="relationship-hp">100</span> / <span id="relationship-max-hp">100</span>
                        </div>
                    </div>
                </div>

                <!-- BATTLE ARENA -->
                <div class="battle-arena-display">
                    <!-- LEFT SIDE: HEROES -->
                    <div class="heroes-battle-section">
                        <!-- PLAYER (PROTECTOR) -->
                        <div class="hero-battle-card player-battle">
                            <div class="hero-battle-icon" id="protector-icon">üßë‚Äçü¶±</div>
                            <div class="hero-battle-name">Ayen</div>
                            <div class="hero-battle-hp-bar">
                                <div class="hero-hp-fill" id="protector-hp-fill" style="width: 100%;"></div>
                            </div>
                            <div class="hero-battle-hp-text">You: Ready</div>
                            <div class="hero-status" id="protector-status"></div>
                        </div>

                        <!-- HEROINE -->
                        <div class="hero-battle-card heroine-battle">
                            <div class="hero-battle-icon" id="heroine-icon">üë©‚Äçü¶∞</div>
                            <div class="hero-battle-name">Felis</div>
                            <div class="hero-battle-hp-bar">
                                <div class="hero-hp-fill" id="heroine-hp-fill" style="width: 100%;"></div>
                            </div>
                            <div class="hero-battle-hp-text">Her: Ready</div>
                            <div class="hero-status" id="heroine-status"></div>
                        </div>
                    </div>

                    <!-- VS CENTER -->
                    <div class="vs-divider">VS</div>

                    <!-- RIGHT SIDE: BOSS/ENEMIES -->
                    <div class="boss-battle-section">
                        <div id="enemies-container" class="enemies-container">
                            <!-- Multiple enemies will be rendered here -->
                        </div>
                        <h2 id="boss-name" class="boss-battle-name">Level: 1</h2>
                        <p id="boss-description" class="boss-battle-desc">Enemies await you...</p>
                        
                        <div class="boss-hp-bar-battle">
                            <div class="boss-hp-fill" id="boss-health" style="width: 100%;"></div>
                        </div>
                        <div class="boss-hp-text-battle">
                            Total Enemy HP: <span id="boss-hp">50</span> / <span id="boss-max-hp">50</span>
                        </div>
                    </div>
                </div>

                <!-- EFFECT LAYERS (for attack animations) -->
                <div class="effect-layer" id="effect-layer"></div>
            </div>

            <!-- NARRATION SECTION -->
            <div class="narration-box" id="narration-box">
                <p id="narration-text">The Misunderstanding Monster appears! It thrives on the lack of communication between lovers. Will you overcome this challenge together?</p>
            </div>

            <!-- ACTION BUTTONS SECTION -->
            <div class="actions-section">
                <div class="actions-row">
                    <h3>The Protector's Skills:</h3>
                    <div class="skills-grid">
                        <button class="skill-btn protector-skill" onclick="useSkill('embrace', 'protector')">
                            <span class="skill-icon">ü§ó</span>
                            <span class="skill-name">Comforting Embrace</span>
                            <span class="skill-desc">Damage + Heal Relationship</span>
                        </button>
                        <button class="skill-btn protector-skill" onclick="useSkill('reassurance', 'protector')">
                            <span class="skill-icon">üí¨</span>
                            <span class="skill-name">Words of Reassurance</span>
                            <span class="skill-desc">Strong vs Doubt Dragon</span>
                        </button>
                        <button class="skill-btn protector-skill" onclick="useSkill('surprise', 'protector')">
                            <span class="skill-icon">üéÅ</span>
                            <span class="skill-name">Surprise Gift</span>
                            <span class="skill-desc">Skip Enemy Turn</span>
                        </button>
                    </div>
                </div>

                <div class="actions-row">
                    <h3>The Heroine's Skills:</h3>
                    <div class="skills-grid">
                        <button class="skill-btn heroine-skill" onclick="useSkill('smile', 'heroine')">
                            <span class="skill-icon">üòä</span>
                            <span class="skill-name">Beaming Smile</span>
                            <span class="skill-desc">Damage + Charm</span>
                        </button>
                        <button class="skill-btn heroine-skill" onclick="useSkill('communication', 'heroine')">
                            <span class="skill-icon">üó£Ô∏è</span>
                            <span class="skill-name">Open Communication</span>
                            <span class="skill-desc">Strong vs Misunderstanding</span>
                        </button>
                        <button class="skill-btn heroine-skill" onclick="useSkill('gesture', 'heroine')">
                            <span class="skill-icon">üíù</span>
                            <span class="skill-name">Thoughtful Gesture</span>
                            <span class="skill-desc">Reduce Next Damage</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- BATTLE LOG -->
            <div class="battle-log" id="battle-log">
                <!-- Log entries will appear here -->
            </div>
        </div>
    </div>

    <!-- GAME OVER SCREEN (if relationship dies) -->
    <div id="gameover-screen" class="screen">
        <div class="gameover-container animate__animated animate__shakeX">
            <div class="gameover-title">‚ö†Ô∏è RELATIONSHIP OVERWHELMED ‚ö†Ô∏è</div>
            <p class="gameover-message">
                The relationship health was overcome by the challenge. But don't worry! 
                Every relationship needs work. Try again and show more love! üíï
            </p>
            <button class="retry-btn" onclick="retryBattle()">üîÑ Try Again</button>
            <button class="retry-btn" onclick="goToHome()">üè† Return Home</button>
        </div>
    </div>
    <script src="battle-arena.js"></script>
</div>
</body>
</html>
